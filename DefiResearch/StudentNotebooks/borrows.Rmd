---
title: "R Notebook"
output: html_notebook
---

This is an [R Markdown](http://rmarkdown.rstudio.com) Notebook. When you execute code within the notebook, the results appear beneath the code. 

Try executing this chunk by clicking the *Run* button within the chunk or by placing your cursor inside it and pressing *Ctrl+Shift+Enter*. 

```{r}
#import libraries
if (!require("ggplot2")) {
  install.packages("ggplot2")
  library(ggplot2)
}

if (!require("knitr")) {
  install.packages("knitr")
  library(knitr)
}

if (!require("dplyr")) {
  install.packages("dplyr")
  library(dplyr)
}

if (!require("RColorBrewer")) {
  install.packages("RColorBrewer")
  library(RColorBrewer)
}
if (!require("beeswarm")) {
  install.packages("beeswarm")
  library(beeswarm)
}
if (!require("tidyverse")) {
  install.packages("tidyverse")
  library(tidyverse)
}
if (!require("ggbeeswarm")) {
  install.packages("ggbeeswarm")
  library(ggbeeswarm)
}
if (!require("xts")) {
  install.packages("xts")
  library(xts)
}
if (!require("devtools")) {
  install.packages("devtools")
  library(devtools)
}
if (!require("ggbiplot")) {
  install_github("vqv/ggbiplot")
  library(ggbiplot)
}
if (!require("lubridate")) {
  install.packages("lubridate")
  library(lubridate)
}
```

Add a new chunk by clicking the *Insert Chunk* button on the toolbar or by pressing *Ctrl+Alt+I*.

When you save the notebook, an HTML file containing the code and output will be saved alongside it (click the *Preview* button or press *Ctrl+Shift+K* to preview the HTML file).

The preview shows you a rendered HTML copy of the contents of the editor. Consequently, unlike *Knit*, *Preview* does not run any R code chunks. Instead, the output of the chunk when it was last run in the editor is displayed.

```{r}
raw_df<-read_rds('../Data/transactions.Rds')
head(raw_df)
```

can we predict borrow rates for specific reserves?
```{r}
details_borrow_df <- raw_df %>% 
  filter(type=="borrow") %>%
  select(reserve,amount,borrowRateMode,borrowRate,timestamp,user)

details_swap_df <- raw_df %>%
  filter(type=="swap") %>%
  select(reserve,borrowRateModeFrom,borrowRateModeTo,timestamp,user)

print(details_borrow_df)
print(details_swap_df)

ggplot(data=details_swap_df, aes(x=timestamp,color=borrowRateModeFrom)) + 
  geom_histogram(fill="white",position="dodge") + ggtitle("Count of Swaps S->V and V->S Over Time")
```

```{r}

```

